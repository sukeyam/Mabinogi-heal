import streamlit as st
import pandas as pd

# í ê³„ìˆ˜ ë°ì´í„° (30ë ˆë²¨ ê¸°ì¤€)
heal_data = {
    "ë¼ì´í”„ ë§í¬": 0.015964,
    "ë¼ì´í”„ ë§í¬ (ì„œì•½ ë£¬)": 0.015949,
    "íŒ¬í…€ í˜ì¸ (ì–µì•• ë£¬)": 0.025963,
    "ìƒëª…ì˜ ê³ ë™(ë¬¼ê²° ë£¬)": 0.017594,
    "í”„ë¡œí…ì…˜ (ê°ìŒˆ ë£¬)": 0.019462,
    "í”„ë¡œí…ì…˜-íšŒë³µëŸ‰ (ê´‘ë¥œ ë£¬)": 0.129973,
    "í”„ë¡œí…ì…˜-ì§€ì† íšŒë³µëŸ‰ (ê´‘ë¥œ ë£¬)": 0.019483,
    "ì„œë¨¼ ë£¨ë¯¸ë„ˆìŠ¤": 0.023965,
    "ìœ™ì˜¤ë¸Œ ì—”ì ¤": 0.191978
}

st.set_page_config(page_title="ë§ˆë¹„ë…¸ê¸° ëª¨ë°”ì¼ íëŸ‰ ê³„ì‚°ê¸°", layout="centered")

# íƒ€ì´í‹€
st.title("ğŸ’– ë§ˆë¹„ë…¸ê¸° ëª¨ë°”ì¼ íëŸ‰ ê³„ì‚°ê¸° (ì‹œì¦Œ 1)")

# ì…ë ¥ ì˜ì—­
st.subheader("ğŸ“Œ ê¸°ë³¸ ì •ë³´ ì…ë ¥")

adjusted_atk = st.number_input("ë³´ì • ê³µê²©ë ¥", min_value=0, value=0, step=100)
recovery = st.number_input("íšŒë³µë ¥", min_value=0, value=0, step=100)

st.markdown("""
> â€» ì‹œì¦Œ 1ì—ì„œ ë³´ì • ê³µê²©ë ¥ ê°’ì„ êµ¬í•˜ëŠ” ë°©ì‹ì´ ë°”ë€Œì—ˆê¸° ë•Œë¬¸ì—, ë¶€ë“ì´í•˜ê²Œ ë³´ì •ê³µê²©ë ¥ê³¼ íšŒë³µë ¥(ë§ˆì„ì—ì„œì˜ ê¸°ë³¸ íšŒë³µë ¥)ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.  
> â€» ë³´ì • ê³µê²©ë ¥ì€ í—ˆìˆ˜ì•„ë¹„ë¥¼ ì¹˜ë©´ì„œ ëª¨ë“  ë²„í”„ê°€ ì¼œì§„ìƒíƒœì—ì„œ ìŠ¤íƒ¯ì°½ì˜ ê³µê²©ë ¥ì´ ìµœê³ ë¡œ ì¦ê°€í•œ ìˆ˜ì¹˜ë¥¼ ê¸°ì…í•´ ì£¼ì‹œë©´ ë©ë‹ˆë‹¤. (ê¸ˆë°©í•©ë‹ˆë‹¤)
""")

# ë£¬ ì²´í¬ë°•ìŠ¤
st.subheader("ğŸ“¦ íšŒë³µëŸ‰ ì¦ê°€ ë£¬ ì„ íƒ")
rune1 = st.checkbox("ğŸ—¡ ì§‘í–‰ì (ë¬´ê¸° ë£¬, ì¹˜ìœ ëŸ‰ 20% ì¦ê°€)")
rune2 = st.checkbox("ğŸ›¡ ì‹ ì„±í•œ ìˆ˜ì–‘ (ë°©ì–´êµ¬ ë£¬, íšŒë³µëŸ‰ 12% ì¦ê°€)")
rune3 = st.checkbox("âœ¨ ì‹ ì„±í•œ ì¹™ë ¹ (íšŒë³µëŸ‰ 9% ì¦ê°€)")

st.markdown("""
> â€» ì‹ ì„±í•œ ì¹™ë ¹ì€ ì•„êµ°ì˜ ì²´ë ¥ íšŒë³µ ì‹œ ê³µê²©ë ¥ 15%, íšŒë³µëŸ‰ 9%ê°€ ì¦ê°€í•˜ëŠ”ë°, ë³¸ì¸ íšŒë³µì‹œì—ë„ ì¦ê°€í•˜ëŠ”ì§€ëŠ” ê²€ì¦ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.  
> (ë£¬ì´ ì—†ì–´ì„œ ì‹¤í—˜ ëª»í•´ë´¤ì–´ìš”.)
""")

# í ì¦ê°€ìœ¨ ê³„ì‚°
heal_bonus = 0.0
if rune1:
    heal_bonus += 0.20
if rune2:
    heal_bonus += 0.12
if rune3:
    heal_bonus += 0.09

# ê²°ê³¼ ê³„ì‚°
st.subheader("ğŸ’¡ íëŸ‰ ê³„ì‚° ê²°ê³¼ (ìŠ¤í‚¬ 30ë ˆë²¨ ê¸°ì¤€)")

results = []
for skill, coeff in heal_data.items():
    heal = coeff * adjusted_atk * (1.1 + heal_bonus) * (1 + recovery / 8750)
    results.append({
        "ìŠ¤í‚¬ëª…": skill,
        "ë³´ì • íëŸ‰": round(heal)
    })

df_result = pd.DataFrame(results)
st.table(df_result)
